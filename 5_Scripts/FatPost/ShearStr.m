%% Project: MHH Dissertation%  Title/File: ShearStr.m%  Author: Bruno Luna %  Date (start): 13 July 2021%%  Content%  ------------% %  This file contains code for calculation of shear stress on beam%%  Main assumptions:%  1 - Timoshenko ("basic" formulation) conditions met%  2 - Constant cross section%  3 - Linear material (Hook law valid)%  4 - Max. shear calculated on middle of profile (Ssmax = Ks * Ssavg)%function Ssmax = ShearStr(InpData) %% Setup the parameters used% Length of beam (mm)L = InpData.Len.L;  % Value of lengths for each year considered (mm)x = InpData.Len.x;  % Points to calculate beamP = InpData.Load.P;     % Value of point loads amplitude for each sub-step (N)dImp = InpData.CS.dImp; % Diameter of implant (mm)A = InpData.CS.A;       % Area for shear stress calculationKs = InpData.CS.Ks;     % Shear correction factor (e.g. 9/10 for circ. section)np = InpData.Gen.np;    % Number of points to calculate beam (adim)Lw = InpData.Gen.Lw; % Line weight for output graphics (admin)%% Calculations% Eq. shear stress along beam cross section(MPa)Ss = (P./(Ks*A)).*ones(length(L),length(x));Ssmax = max(abs(Ss), [], 2);  % Max shear stress on beam for each load step(MPa)%% Plot resultsfigure;hold on;for i = 1:size(Ss,1)  for j = 1:size(Ss,3)    plot (x(i,:), Ss(i,:,j), "--bd", "linewidth", Lw);    xlabel ("x (mm)");    ylabel ("SigmaS(x) (MPa)");    title ("Shear Stress");  endforendfor   endfunction